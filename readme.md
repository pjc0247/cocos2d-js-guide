cocos2d-js-guide
====

자바스크립트에 대해서
----
자바스크립트는 보통 2개의 스페이스로 `indent`를 표기합니다.

Scene
----
보통의 게임 엔진들은 게임을 `Scene` 단위로 나누어서 관리합니다. 하나의 씬은 '로그인 화면', '로딩 화면', '실제 게임 화면' 등으로 예를 들 수 있으며, 이러한 씬들이 모여서 하나의 게임이 탄생합니다.<br>
<br>
`cocos2d` 역시 엔진 레벨에서 `Scene` 개념을 지원합니다. `cocos2d-js`의 베이스 코드에는 이미 기본 씬이 포함되어 있으며, 이 가이드에서는 해당 씬을 그대로 사용하도록 하겠습니다.<br>
<br>
__베이스 코드에 포함된 `MyScene` 의 모습__
```js
var MyScene = cc.Scene.extend({
  onEnter:function () {
    this._super();

    // onEnter는 씬이 사용 가능 상태가 되면 호출됩니다.
    // 이곳에 씬의 초기화 코드를 작성합니다.
    //
    // 보통 이곳에서 하는 작업들
    //   - 리소스의 로드
    //   - 게임 오브젝트의 배치
    //   - 배경 음악 재생 등
  }
});
cc.director.runScene(new MyScene());
```

이미지 출력하기
----
씬에 이미지를 배치시키는 방법에 대해 알아봅니다. 아래 코드를 `onEnter` 내부에 작성합니다.
```js
var sprite = cc.Sprite.create("HelloWorld.png");
sprite.setPosition(200, 200);
this.addChild(sprite, 0);
```
그림이 정상적으로 표시되는걸 확인했다면 이번에는 `HelloWorld.png` 대신에 좋아하는 캐릭터 그림을 넣어서 실행해 보세요. 해당 그림은 `index.html`과 같은 폴더에 위치하여야 하며, 파일 이름은 대소문자를 구분합니다.
<br>
__코코스의 좌표계__<br>
코코스는 일반적인 윈도우의 좌표계와는 조금 다른 좌표 시스템을 사용합니다.<br>
![pos](pos.png)<br>
좌측 하단이 `(0, 0)`이며, 위로 갈수록 `y` 좌표가 증가합니다. 오른쪽으로 갈수록 `x` 좌표가 증가하는것은 일반적인 다른 좌표계와 동일합니다.<br>
위에서 작성한 코드 중 `setPosition` 메소드에 넘겨주는 값을 바꿔 실제로 한번 테스트 해 보세요.
```js
// x값을 증가시켰습니다. 
//   스프라이트는 기존보다 오른쪽으로 이동합니다.
sprite.setPosition(400, 200);
```
```js
// y 값을 증가시켰습니다.
//   스프라이트는 기존보다 위로 이동합니다.
sprite.setPosition(200, 400);
```

애니메이션
----
애니메이션을 이용하면 그림을 움직이거나 회전시키거나 다양한 효과를 줄 수 있습니다.<br>
<br>
__애니메이션의 기본__<br>
모든 애니메이션은 `runAction` 메소드와 함께 시작합니다. `runAction` 메소드에 인자로 실행할 애니메이션을 입력하면 해당 애니메이션이 즉시 실행됩니다.
```js
sprite.runAction(실행할_애니메이션);
```
또한 애니메이션에는 보통 `By`와 `To`의 두종류가 존재합니다. __By__는 현재 값을 기준으로(delta) 애니메이션하겠다는 의미이며, __To__는 무조건 지정된 값까지 애니메이션한다는 뜻입니다. 이에 대해서는 뒤에서 자세히 알아보도록 하겠습니다.<br>
<br>
__좌표 애니메이션__<br>
가장 간단하게 좌표를 이동하는 애니메이션을 다뤄보도록 하겠습니다. `MoveBy` 를 이용하여 현재 위치를 기준으로 스프라이트를 이동시킬 수 있습니다.
```js
// 그림이 1초동안 (200, 0) 만큼 이동합니다.
sprite.runAction(
  cc.MoveBy.create(1, cc.p(200,0)));
```
이전 예제에서는 `By`를 사용하였으니, 이번에는 `To`를 사용해보도록 하겠습니다.<br>
아래 예제는 현재 위치와 관계없이 무조건 지정된 위치로 스프라이트가 이동합니다.
```js
// 그림이 1초동안 (200, 0) 을 향해 이동합니다.
sprite.runAction(
  cc.MoveTo.create(1, cc.p(200,0)));
```
<br>
__투명도 애니메이션__<br>
`FadeTo`를 이용하여 그림을 투명하거나, 반투명 상태로 만들 수 있습니다. 투명도는 `0~255` 사이의 값을 가지며 0일 경우에는 완전 투명 / 255일 경우 완전 불투명 / 그 중간 값들은 이미지가 얼마나 불투명하게 표시되어야 하는지 나타냅니다.
```js
// 이미지가 1초동안 완전히 투명하게 변합니다.
sprite.runAction(
  cc.FadeTo.create(1, 0));
```
__사이즈 애니메이션__<br>
`ScaleTo`를 이용해 그림의 크기를 바꿀 수 있습니다.
```js
// 1초동안 그림이 2배 크기로 변합니다.
sprite.runAction(
  cc.ScaleTo.create(1, 2));
```
__순차적 애니메이션 실행하기__<br>
경우에 따라서는 여러개의 애니메이션을 조합해야 할 경우가 있습니다. `Sequence` 를 이용하면 두개 이상의 애니메이션을 순차실행시킬 수 있습니다.
![bird](sequence.gif)<br>
```js
// 이미지를 2배 커지게 한다음 원래 크기로 돌아옵니다.
sprite.runAction(
  cc.Sequence.create(
    cc.ScaleTo.create(0.5, 2),
    cc.ScaleTo.create(0.5, 1)
  ));
```